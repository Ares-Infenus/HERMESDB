Market_Data_DB
│
├── Market
│   ├── market_id (PK) [INTEGER]
│   ├── market_name [VARCHAR] (UNIQUE)
│   ├── description [TEXT]
│   ├── created_at [TIMESTAMP]
│   └── updated_at [TIMESTAMP]
│
├── Asset_Metadata
│   ├── metadata_id (PK) [INTEGER]
│   ├── sector [VARCHAR(100)]
│   ├── instrument_type [VARCHAR(50)]
│   ├── country [VARCHAR(50)]
│   └── description [TEXT]
│
├── Assets
│   ├── assets_id (PK) [INTEGER]
│   ├── assets_name [VARCHAR] (UNIQUE)
│   ├── market_id (FK) [INTEGER] -> Market.market_id
│   ├── metadata_id (FK) [INTEGER] -> Asset_Metadata.metadata_id
│   ├── is_active [BOOLEAN]
│   ├── created_at [TIMESTAMP]
│   └── updated_at [TIMESTAMP]
│
├── Timeframe
│   ├── timeframe_id (PK) [INTEGER]
│   ├── timeframe_name [VARCHAR] (UNIQUE)
│   ├── minutes_interval [INTEGER]
│   └── created_at [TIMESTAMP]
│
├── Data_Sources
│   ├── source_id (PK) [INTEGER]
│   ├── source_name [VARCHAR(100)]
│   └── description [TEXT]
│
├── Technical_Indicators
│   ├── indicator_id (PK) [INTEGER]
│   ├── indicator_name [VARCHAR(50)]
│   ├── description [TEXT]
│   └── calculation_method [TEXT]
│
├── Market_Data
│   ├── data_id (PK) [INTEGER]
│   ├── assets_id (FK) [INTEGER] -> Assets.assets_id
│   ├── timeframe_id (FK) [INTEGER] -> Timeframe.timeframe_id
│   ├── source_id (FK) [INTEGER] -> Data_Sources.source_id
│   ├── price_type [VARCHAR(3)]
│   ├── date [TIMESTAMP]
│   ├── open [FLOAT] CHECK (open > 0)
│   ├── high [FLOAT] CHECK (high >= open AND high >= close)
│   ├── low [FLOAT] CHECK (low <= open AND low <= close)
│   ├── close [FLOAT] CHECK (close > 0)
│   ├── volume [FLOAT] CHECK (volume >= 0)
│   ├── created_at [TIMESTAMP]
│   ├── Indexes:
│   │   ├── Index on (assets_id, date)
│   │   ├── Index on (timeframe_id, date)
│   │   └── Index on (assets_id, timeframe_id, date)
│   ├── Partitions:
│   │   └── Partition by YEAR(date)
│   ├── Materialized Views:
│   │   └── mv_daily_summary (Daily Aggregations)
│   └── Constraints:
│       └── price_type IN ('BID', 'ASK', 'MID')
│
├── Calculated_Indicators
│   ├── calc_id (PK) [INTEGER]
│   ├── data_id (FK) [INTEGER] -> Market_Data.data_id
│   ├── indicator_id (FK) [INTEGER] -> Technical_Indicators.indicator_id
│   ├── value [FLOAT]
│   └── calculated_at [TIMESTAMP]
│
└── Optimization
    ├── Batch Transactions (Carga nocturna)
    ├── Monitoring Tools (AWR, SQL Tuning)
    ├── Backup & Recovery Plan
    └── Performance Optimizations


Descripción Breve:

Estructura Base:

Market: Registro de mercados disponibles
Assets: Activos financieros vinculados a mercados
Timeframe: Temporalidades disponibles (1h, 4h, 1d, etc.)
Market_Data: Datos OHLCV con validaciones de precio


Nuevas Características:

Asset_Metadata: Información adicional de activos
Data_Sources: Control de fuentes de datos
Technical_Indicators: Catálogo de indicadores
Calculated_Indicators: Almacén de indicadores calculados


Mejoras Técnicas:

Índices compuestos para consultas frecuentes
Particionamiento por año
Constraints de validación de precios
Control de timestamps para auditoría
Vistas materializadas para resúmenes


Optimizaciones:

Proceso batch nocturno
Monitoreo y tuning
Plan de respaldo y recuperación
Compresión de datos históricos



Esta estructura está optimizada para:

Carga nocturna de datos
Consultas rápidas (< 2 segundos)
Manejo de indicadores técnicos
Control de calidad de datos
Escalabilidad futura